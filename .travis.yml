language: node_js
node_js:
- '8'
# APTA dvanced Package Too + retrieval, configuration
# and installation of software packages
addons:
  ssh_known_hosts: 159.65.226.145
install: npm install
before_install:
# open ssl which generated by command line by [travis encrypt-file rsa_travis --add]
# The travis encrypt-file command will encrypt a file for you using a symmetric
# encryption (AES-256), and it will store the secret in a secure variable.
# It will output the command you can use in your build script to decrypt the file.
- openssl aes-256-cbc -K $encrypted_a8c9b2db4a8b_key -iv $encrypted_a8c9b2db4a8b_iv
  -in rsa_travis.enc -out /tmp/rsa_travis -d
# Eval is a built in linux or unix command
# start the ssh-agent in the background
- eval "$(ssh-agent -s)"
# permission
- chmod 600 /tmp/rsa_travis
# Add your SSH private key to the ssh-agent
- ssh-add /tmp/rsa_travis
#Deploying to multiple providers is possible by adding the
#different providers to the deploy section as a list.
deploy:
  provider: script
# When deploying files to a provider, prevent Travis CI from resetting your
# working directory and deleting all changes made during the build.
  skip_cleanup: true
  script: sh ./deploy.sh
  on:
    branch: master
